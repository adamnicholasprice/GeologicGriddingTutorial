<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Pseudo code: General case - Geologic Gridding Tutorial</title> <link rel="shortcut icon" href="/GeologicGriddingTutorial/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/GeologicGriddingTutorial/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/GeologicGriddingTutorial/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/GeologicGriddingTutorial/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Pseudo code: General case | Geologic Gridding Tutorial</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Pseudo code: General case" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/07_pseudoGeneral.html" /> <meta property="og:url" content="https://adamnicholasprice.github.io/GeologicGriddingTutorial/07_pseudoGeneral.html" /> <meta property="og:site_name" content="Geologic Gridding Tutorial" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Pseudo code: General case" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Pseudo code: General case","url":"https://adamnicholasprice.github.io/GeologicGriddingTutorial/07_pseudoGeneral.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/" class="site-title lh-tight"> Geologic Gridding Tutorial </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/01_intro.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/02_surfaces.html" class="nav-list-link">Constructing refining surfaces</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/03_domain.html" class="nav-list-link">Constructing and refining domain</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/04_defineRegions.html" class="nav-list-link">Define regions and assign materials</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/05_finalMesh.html" class="nav-list-link">Final mesh</a></li><li class="nav-list-item active"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/07_pseudoGeneral.html" class="nav-list-link active">Pseudo code: General case</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/07_pseudoNorthPond.html" class="nav-list-link">Pseudo code: North Pond</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/08_executeScripts.html" class="nav-list-link">Execute Scripts</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Geologic Gridding Tutorial" aria-label="Search Geologic Gridding Tutorial" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <script> var app = "https://kitware.github.io/paraview-glance/app"; var datadir = "https://raw.githubusercontent.com/adamnicholasprice/GeologicGriddingTutorial/main/GeneralScene/"; var file = "generalTetFinal.vtkjs"; document.write("<iframe src='" + app + "?name=" + file + "&url=" +datadir + file + "' id='iframe' width='800' height='500'></iframe>"); </script> <h1 class="no_toc" id="pseudo-code-general-case"> <a href="#pseudo-code-general-case" class="anchor-heading" aria-labelledby="pseudo-code-general-case"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pseudo code: General Case </h1> <h2 class="no_toc" id="general-files-description"> <a href="#general-files-description" class="anchor-heading" aria-labelledby="general-files-description"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General files description </h2> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Filename</strong></th> <th><strong>File purpose</strong></th> </tr> </thead> <tbody> <tr> <td>1_create_surface.lgi</td> <td>Constructing reference surfaces</td> </tr> <tr> <td>2_refine_domain.lgi</td> <td>Mesh building and refinement</td> </tr> <tr> <td>3_set_region_truncate.lgi</td> <td>Setting material regions based on surfaces, hex-to-tet mesh, removing top of mesh, setting top most zone, cleaning up mesh</td> </tr> </tbody> </table></div> <details> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#1_create_surfacelgi" id="markdown-toc-1_create_surfacelgi">1_create_surface.lgi</a></li> <li><a href="#overview" id="markdown-toc-overview"><strong>Overview</strong></a> <ol> <li><a href="#lines-1---6" id="markdown-toc-lines-1---6"><strong>Lines 1 - 6</strong></a></li> <li><a href="#lines-9---13" id="markdown-toc-lines-9---13"><strong>Lines 9 - 13</strong></a></li> <li><a href="#lines-16---21" id="markdown-toc-lines-16---21"><strong>Lines 16 - 21</strong></a></li> <li><a href="#lines-24----30" id="markdown-toc-lines-24----30"><strong>Lines 24 - 30</strong></a></li> <li><a href="#lines-34---54" id="markdown-toc-lines-34---54"><strong>Lines 34 - 54</strong></a></li> <li><a href="#lines-58---74" id="markdown-toc-lines-58---74"><strong>Lines 58 - 74</strong></a></li> <li><a href="#file-link" id="markdown-toc-file-link"><strong>File link:</strong></a></li> </ol> </li> <li><a href="#2_refine_domainlgi" id="markdown-toc-2_refine_domainlgi">2_refine_domain.lgi</a></li> <li><a href="#overview-1" id="markdown-toc-overview-1"><strong>Overview</strong></a> <ol> <li><a href="#lines-2----14" id="markdown-toc-lines-2----14"><strong>Lines 2 - 14</strong></a></li> <li><a href="#lines-16----18" id="markdown-toc-lines-16----18"><strong>Lines 16 - 18</strong></a></li> <li><a href="#line-23" id="markdown-toc-line-23"><strong>Line 23</strong></a></li> <li><a href="#lines-24---27" id="markdown-toc-lines-24---27"><strong>Lines 24 - 27</strong></a></li> <li><a href="#lines-29---34" id="markdown-toc-lines-29---34"><strong>Lines 29 - 34</strong></a></li> <li><a href="#lines-36---40" id="markdown-toc-lines-36---40"><strong>Lines 36 - 40</strong></a></li> <li><a href="#lines-45---46" id="markdown-toc-lines-45---46"><strong>Lines 45 - 46</strong></a></li> </ol> </li> <li><a href="#refine_objectmlgi" id="markdown-toc-refine_objectmlgi">Refine_object.mlgi</a></li> <li><a href="#overview-2" id="markdown-toc-overview-2"><strong>Overview</strong></a> <ol> <li><a href="#lines-1---2" id="markdown-toc-lines-1---2"><strong>Lines 1 - 2</strong></a></li> <li><a href="#line-4" id="markdown-toc-line-4"><strong>Line 4</strong></a></li> <li><a href="#line-5" id="markdown-toc-line-5"><strong>Line 5</strong></a></li> <li><a href="#line-6" id="markdown-toc-line-6"><strong>Line 6</strong></a></li> <li><a href="#file-link-1" id="markdown-toc-file-link-1"><strong>File link:</strong></a></li> <li><a href="#file-link-2" id="markdown-toc-file-link-2"><strong>File link:</strong></a></li> </ol> </li> <li><a href="#3_set_region_truncatelgi" id="markdown-toc-3_set_region_truncatelgi">3_set_region_truncate.lgi</a></li> <li><a href="#overview-3" id="markdown-toc-overview-3"><strong>Overview</strong></a> <ol> <li><a href="#line-1" id="markdown-toc-line-1"><strong>Line 1</strong></a></li> <li><a href="#lines-3---11" id="markdown-toc-lines-3---11"><strong>Lines 3 - 11</strong></a></li> <li><a href="#lines-13---14" id="markdown-toc-lines-13---14"><strong>Lines 13 - 14</strong></a></li> <li><a href="#lines-17---37" id="markdown-toc-lines-17---37"><strong>Lines 17 - 37</strong></a></li> <li><a href="#lines-39---43" id="markdown-toc-lines-39---43"><strong>Lines 39 - 43</strong></a></li> <li><a href="#line-45---49" id="markdown-toc-line-45---49"><strong>Line 45 - 49</strong></a></li> <li><a href="#line-52---60" id="markdown-toc-line-52---60"><strong>Line 52 - 60</strong></a></li> <li><a href="#line-63---64" id="markdown-toc-line-63---64"><strong>Line 63 - 64</strong></a></li> <li><a href="#line-67---70" id="markdown-toc-line-67---70"><strong>Line 67 - 70</strong></a></li> <li><a href="#line-73---78" id="markdown-toc-line-73---78"><strong>Line 73 - 78</strong></a></li> <li><a href="#line-81" id="markdown-toc-line-81">Line 81</a></li> <li><a href="#file-link-3" id="markdown-toc-file-link-3"><strong>File link:</strong></a></li> </ol> </li> </ol> </details><hr /> <h2 id="1_create_surfacelgi"> <a href="#1_create_surfacelgi" class="anchor-heading" aria-labelledby="1_create_surfacelgi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1_create_surface.lgi </h2> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Input</strong></th> <th><strong>Output</strong></th> </tr> </thead> <tbody> <tr> <td>2_middle_grid.csv</td> <td>2_surf_mid_grid.inp</td> </tr> </tbody> </table></div> <h2 id="overview"> <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Overview</strong> </h2> <p>Create all surfaces needed in construction, refinement, and material assignment of general case mesh.</p> <h3 id="lines-1---6"> <a href="#lines-1---6" class="anchor-heading" aria-labelledby="lines-1---6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 1 - 6</strong> </h3> <p>Assign coordinate system in meters from xmin, ymin, zmin = -5000,-5000 to xmax, ymax = 5000,5000 and number of points in x,y = 201,201.</p> <h3 id="lines-9---13"> <a href="#lines-9---13" class="anchor-heading" aria-labelledby="lines-9---13"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 9 - 13</strong> </h3> <p>Create mesh object <em>mo_surface</em> that has the above x and y dimensions with z = 0 and connect the points in the surface</p> <h3 id="lines-16---21"> <a href="#lines-16---21" class="anchor-heading" aria-labelledby="lines-16---21"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 16 - 21</strong> </h3> <p>Create mesh object <em>surface_plane</em> from surface <em>surface.csv</em>. Then copy over z coordinates from <em>surface_plane</em> to connected surface <em>mo_surface</em></p> <h3 id="lines-24----30"> <a href="#lines-24----30" class="anchor-heading" aria-labelledby="lines-24----30"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 24 - 30</strong> </h3> <p>Set properties assocaited with surface (mostly used for visualization in this case) and dump mesh object surface <em>mo_surface</em> to <em>1_surface.inp</em></p> <h3 id="lines-34---54"> <a href="#lines-34---54" class="anchor-heading" aria-labelledby="lines-34---54"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 34 - 54</strong> </h3> <p>Create copies of <em>mo_surface</em> named <em>mo_aq800</em> and <em>mo_aq200</em>. Subtract 200m and 800m from the z coordinate of surfaces <em>mo_aq200</em> and <em>mo_aq800</em>; respectively. Set properties assocaited with surface, and dump mesh objects to files</p> <ul> <li><em>mo_aq200</em> to <em>1_surface_aq200.inp</em></li> <li><em>mo_aq800</em> to <em>1_surface_aq800.inp</em></li> </ul> <h3 id="lines-58---74"> <a href="#lines-58---74" class="anchor-heading" aria-labelledby="lines-58---74"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 58 - 74</strong> </h3> <p>Create mesh object <em>mo_zero</em> at z = 0 with a two points in x and y with the same extent as specified above. Set properties assocaited with surface and dump <em>mo_zero</em> to file <em>1_surface_zero.inp</em>.</p> <h3 id="file-link"> <a href="#file-link" class="anchor-heading" aria-labelledby="file-link"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>File link:</strong> </h3> <h2 id="2_refine_domainlgi"> <a href="#2_refine_domainlgi" class="anchor-heading" aria-labelledby="2_refine_domainlgi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2_refine_domain.lgi </h2> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Input</strong></th> <th><strong>Output</strong></th> </tr> </thead> <tbody> <tr> <td>2_middle_grid.csv</td> <td>2_surf_mid_grid.inp</td> </tr> </tbody> </table></div> <h2 id="overview-1"> <a href="#overview-1" class="anchor-heading" aria-labelledby="overview-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Overview</strong> </h2> <p>First, we create an inital hexahedral mesh. Next, we read in all the surfaces created in the previous files. Finally, the subroutine <em>refine_object.mlgi</em> is called to perform octree refinement along the elements intersected with the surfaces called and files are created for each of those refinement iterations.</p> <h3 id="lines-2----14"> <a href="#lines-2----14" class="anchor-heading" aria-labelledby="lines-2----14"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 2 - 14</strong> </h3> <p>Define xmin, ymin, zmin = -5000,-5000, -4000 to xmax, ymax, zmax = 5000,5000,1000 and number of points in x,y,z = 11,11,6. This sets the initial resolution at 1000m elements in x,y,z. Create the mesh object <em>domain_hex</em> and dump to file <em>2_initial_domain.inp</em>.</p> <h3 id="lines-16----18"> <a href="#lines-16----18" class="anchor-heading" aria-labelledby="lines-16----18"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 16 - 18</strong> </h3> <p>Read in surfaces</p> <ul> <li><em>1_surface.inp</em> = <em>mo_surface</em></li> <li><em>1_surface_aq200.inp</em> = <em>mo_aq200</em></li> <li><em>1_surface_aq800.inp</em> = <em>mo_aq800</em></li> </ul> <h3 id="line-23"> <a href="#line-23" class="anchor-heading" aria-labelledby="line-23"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 23</strong> </h3> <p>Define the initail hexahedral mesh <em>domain_hex</em> as the object to refine.</p> <h3 id="lines-24---27"> <a href="#lines-24---27" class="anchor-heading" aria-labelledby="lines-24---27"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 24 - 27</strong> </h3> <p>This series of lines performs the octree refinement and will be performed many times in this file. The flow of these lines are:</p> <ul> <li>Line 24: Define the mesh object to refine with. Here is <em>mo_sb</em></li> <li>Line 25: Perform octree refinement via the subroutine <em>refine_object.mlgi</em></li> <li>Line 26: Dump the refined object to a file. Here <em>2_surface_octree.inp</em></li> <li>Line 27: Check the quality of the refinement.</li> </ul> <p>Henceforth, this series of steps will be denoted by: Refine {<em>name of mesh object</em>} - File: {<em>Output file</em>}</p> <h3 id="lines-29---34"> <a href="#lines-29---34" class="anchor-heading" aria-labelledby="lines-29---34"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 29 - 34</strong> </h3> <p>Refine x2 <em>mo_aq200 -</em> File: <em>2_surfaceAQ200_octree.inp</em></p> <h3 id="lines-36---40"> <a href="#lines-36---40" class="anchor-heading" aria-labelledby="lines-36---40"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 36 - 40</strong> </h3> <p>Refine <em>mo_aq800 -</em> File: <em>2_surfaceAQ800_octree.inp</em></p> <h3 id="lines-45---46"> <a href="#lines-45---46" class="anchor-heading" aria-labelledby="lines-45---46"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 45 - 46</strong> </h3> <p>Reset the <em>itetclr</em> variable. Dump the refined mesh <em>domain_hex</em> to file <em>2_hexRefine_octree.inp</em></p> <h2 id="refine_objectmlgi"> <a href="#refine_objectmlgi" class="anchor-heading" aria-labelledby="refine_objectmlgi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Refine_object.mlgi </h2> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Input</strong></th> <th><strong>Output</strong></th> </tr> </thead> <tbody> <tr> <td>{Element to be refined}</td> <td>{Refining element}</td> </tr> </tbody> </table></div> <h2 id="overview-2"> <a href="#overview-2" class="anchor-heading" aria-labelledby="overview-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Overview</strong> </h2> <p>Subroutine used to perform octree refinement of a mesh object along a specified surface or volume</p> <h3 id="lines-1---2"> <a href="#lines-1---2" class="anchor-heading" aria-labelledby="lines-1---2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 1 - 2</strong> </h3> <p>Clear any variables from previous use of subroutine</p> <h3 id="line-4"> <a href="#line-4" class="anchor-heading" aria-labelledby="line-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 4</strong> </h3> <p>Create a mesh object attribute named <em>if_inter</em> that contains the intersection of the mesh object being refined and the mesh object being used to refine in this step. These are defined outside the subroutine</p> <h3 id="line-5"> <a href="#line-5" class="anchor-heading" aria-labelledby="line-5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 5</strong> </h3> <p>Create an element set named <em>erefine</em> based on where <em>if_inter</em> is greater than 0 (i.e. where the meshes intersect)</p> <h3 id="line-6"> <a href="#line-6" class="anchor-heading" aria-labelledby="line-6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 6</strong> </h3> <p>The selected set, <em>erefine,</em> is refined.</p> <h3 id="file-link-1"> <a href="#file-link-1" class="anchor-heading" aria-labelledby="file-link-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>File link:</strong> </h3> <h3 id="file-link-2"> <a href="#file-link-2" class="anchor-heading" aria-labelledby="file-link-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>File link:</strong> </h3> <h2 id="3_set_region_truncatelgi"> <a href="#3_set_region_truncatelgi" class="anchor-heading" aria-labelledby="3_set_region_truncatelgi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3_set_region_truncate.lgi </h2> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Input</strong></th> <th><strong>Output</strong></th> </tr> </thead> <tbody> <tr> <td>2_hexRefine_octree.inp</td> <td>3_hexDomain_defineZones.inp</td> </tr> <tr> <td>1_surface.inp</td> <td>{outside zone files}</td> </tr> <tr> <td>1_surface_aq200.inp</td> <td>3_tetDomain_regionSet.inp</td> </tr> <tr> <td>1_surface_aq800.inp</td> <td> </td> </tr> <tr> <td>1_surface_zero.inp</td> <td> </td> </tr> </tbody> </table></div> <h2 id="overview-3"> <a href="#overview-3" class="anchor-heading" aria-labelledby="overview-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Overview</strong> </h2> <h3 id="line-1"> <a href="#line-1" class="anchor-heading" aria-labelledby="line-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 1</strong> </h3> <p>Read in refined mesh <em>2_hexRefine_octree.inp</em> as mesh object <em>domain_hex</em></p> <h3 id="lines-3---11"> <a href="#lines-3---11" class="anchor-heading" aria-labelledby="lines-3---11"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 3 - 11</strong> </h3> <p>Read in surfaces as sheet surfaces as follows:</p> <ul> <li><em>1_surface.inp</em> as sheet surface <em>surf</em></li> <li><em>1_surface_aq200.inp</em> as sheet surface <em>s_aq200</em></li> <li><em>1_surface_aq800.inp</em> as sheet surface <em>s_aq800</em></li> <li><em>1_surface_zero.inp</em> as sheet surface <em>zero</em></li> </ul> <h3 id="lines-13---14"> <a href="#lines-13---14" class="anchor-heading" aria-labelledby="lines-13---14"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 13 - 14</strong> </h3> <p>Set attribute <em>itetclr</em> = 5 for mesh <em>domain_hex</em></p> <h3 id="lines-17---37"> <a href="#lines-17---37" class="anchor-heading" aria-labelledby="lines-17---37"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 17 - 37</strong> </h3> <p>This section details the intersecting of sheets above with the refined mesh object inorder to define individual zones that correspond to geologic units within the grid. The general workflow of this section takes example from Lines 33 - 35:</p> <ul> <li>Line 33 - Define the region of interest and name it <em>r1</em> which is less than or equal to the sheet zero and greater than the surface <em>surf</em>. (surf &lt; r1 ≤ zero)</li> <li>Line 34 - Define an eltset (element set), <em>e_r1</em>, from the region <em>r1</em>.</li> <li>Line 35 - Set the itetclr attribut of <em>domain_hex</em> = 1</li> </ul> <p>This process repeats for different conditions until line 37. The layers that correspond to the itetclr set in these lines are:</p> <ul> <li>1 - Sediment</li> <li>2 - Aquifer layer 0 - 200m</li> <li>3 - Aquifer layer 200 - 800m</li> <li>4 - Conductive basement &lt; 800 m</li> <li>5 - Everything else (i.e., the area above the refined topographic surface)</li> </ul> <h3 id="lines-39---43"> <a href="#lines-39---43" class="anchor-heading" aria-labelledby="lines-39---43"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Lines 39 - 43</strong> </h3> <p>Check the quality of <em>domain_hex</em> and dump to file <em>3_hexDomain_defineZones.inp</em></p> <h3 id="line-45---49"> <a href="#line-45---49" class="anchor-heading" aria-labelledby="line-45---49"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 45 - 49</strong> </h3> <p>Convert hexahedral mesh <em>domain_hex</em> to tetrehedral mesh <em>domain_tet</em> for ease of use for legacy tools from UCSC hydrogeology lab <a href="https://github.com/UCSC-Hydrogeology/fehmToolkit">GitHub</a></p> <h3 id="line-52---60"> <a href="#line-52---60" class="anchor-heading" aria-labelledby="line-52---60"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 52 - 60</strong> </h3> <p>Reset imt and itp attributes for mesh <em>domain_tet</em>. Interpolate material regions from <em>domain_hex</em> to <em>domain_tet</em>. Dump mesh <em>domain_tet</em> to file <em>3_tetDomain_topConnected.inp</em></p> <h3 id="line-63---64"> <a href="#line-63---64" class="anchor-heading" aria-labelledby="line-63---64"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 63 - 64</strong> </h3> <p>Remove material zone 5 corresponding to elements above refined topography.</p> <h3 id="line-67---70"> <a href="#line-67---70" class="anchor-heading" aria-labelledby="line-67---70"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 67 - 70</strong> </h3> <p>Reset attributes <em>cell_color</em> and <em>itp</em>. Check status of mesh</p> <h3 id="line-73---78"> <a href="#line-73---78" class="anchor-heading" aria-labelledby="line-73---78"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Line 73 - 78</strong> </h3> <p>Dump outside zone files to read back in later steps. Select points with material zone (imt) greater than 1 and in the top zone for mesh <em>domain_tet</em> and set attribute imt to zone 2.</p> <h3 id="line-81"> <a href="#line-81" class="anchor-heading" aria-labelledby="line-81"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Line 81 </h3> <p>Dump completed mesh <em>domain_tet</em> to file <em>3_tetDomain_regionSet.inp</em></p> <h3 id="file-link-3"> <a href="#file-link-3" class="anchor-heading" aria-labelledby="file-link-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>File link:</strong> </h3> <p><a href="http://adamnicholasprice.github.io/GeologicGriddingTutorial/05_finalMesh.html" class="btn btn-purple">Cleanup mesh, materials, and boundaries</a> <a href="http://adamnicholasprice.github.io/GeologicGriddingTutorial/06_pseudoNorthPond.html" class="btn btn-purple">Pseudo code: North Pond</a></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
