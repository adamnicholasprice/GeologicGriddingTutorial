<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Define regions and assign materials - Geologic Gridding Tutorial</title> <link rel="shortcut icon" href="/GeologicGriddingTutorial/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/GeologicGriddingTutorial/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/GeologicGriddingTutorial/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/GeologicGriddingTutorial/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Define regions and assign materials | Geologic Gridding Tutorial</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Define regions and assign materials" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/04_defineRegions.html" /> <meta property="og:url" content="https://adamnicholasprice.github.io/GeologicGriddingTutorial/04_defineRegions.html" /> <meta property="og:site_name" content="Geologic Gridding Tutorial" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Define regions and assign materials" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Define regions and assign materials","url":"https://adamnicholasprice.github.io/GeologicGriddingTutorial/04_defineRegions.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/" class="site-title lh-tight"> Geologic Gridding Tutorial </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/01_intro.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/02_surfaces.html" class="nav-list-link">Constructing refining surfaces</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/03_domain.html" class="nav-list-link">Constructing and refining domain</a></li><li class="nav-list-item active"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/04_defineRegions.html" class="nav-list-link active">Define regions and assign materials</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/05_finalMesh.html" class="nav-list-link">Final mesh</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/07_pseudoGeneral.html" class="nav-list-link">Pseudo code: General case</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/07_pseudoNorthPond.html" class="nav-list-link">Pseudo code: North Pond</a></li><li class="nav-list-item"><a href="https://adamnicholasprice.github.io/GeologicGriddingTutorial/08_executeScripts.html" class="nav-list-link">Execute Scripts</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Geologic Gridding Tutorial" aria-label="Search Geologic Gridding Tutorial" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="define-regions-and-assign-materials"> <a href="#define-regions-and-assign-materials" class="anchor-heading" aria-labelledby="define-regions-and-assign-materials"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Define regions and assign materials </h1> <details open=""> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#define-regions-and-assign-materials" id="markdown-toc-define-regions-and-assign-materials">Define regions and assign materials</a> <ol> <li><a href="#generalized-mesh" id="markdown-toc-generalized-mesh">Generalized Mesh</a> <ol> <li><a href="#overview" id="markdown-toc-overview">Overview</a></li> <li><a href="#syntax" id="markdown-toc-syntax">Syntax</a></li> <li><a href="#set-zones" id="markdown-toc-set-zones">Set zones</a> <ol> <li><a href="#figure-1" id="markdown-toc-figure-1">Figure 1</a></li> </ol> </li> <li><a href="#convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain" id="markdown-toc-convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain">Convert to tetrahedral mesh and remove excess simulation domain</a></li> <li><a href="#reset-top-zone-of-domain" id="markdown-toc-reset-top-zone-of-domain">Reset top zone of domain</a></li> </ol> </li> <li><a href="#north-pond" id="markdown-toc-north-pond">North Pond</a> <ol> <li><a href="#overview-1" id="markdown-toc-overview-1">Overview</a></li> <li><a href="#syntax-1" id="markdown-toc-syntax-1">Syntax</a></li> <li><a href="#set-zones-1" id="markdown-toc-set-zones-1">Set zones</a> <ol> <li><a href="#figure-4" id="markdown-toc-figure-4">Figure 4</a></li> </ol> </li> <li><a href="#convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain-1" id="markdown-toc-convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain-1">Convert to tetrahedral mesh and remove excess simulation domain</a></li> <li><a href="#syntax-2" id="markdown-toc-syntax-2">Syntax</a> <ol> <li><a href="#figure-5" id="markdown-toc-figure-5">Figure 5</a></li> </ol> </li> <li><a href="#reset-top-zone-of-domain-1" id="markdown-toc-reset-top-zone-of-domain-1">Reset top zone of domain</a></li> <li><a href="#syntax-3" id="markdown-toc-syntax-3">Syntax</a> <ol> <li><a href="#figure-6" id="markdown-toc-figure-6">Figure 6</a></li> </ol> </li> </ol> </li> <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li> </ol> </li> </ol> </details><hr /> <p>Next, using the surfaces and volumes constructed in the previous steps, we define material zones that correspond to stratigraphic units of interest in our mesh. Defining zones in this way, allows the user to assign physical properties, boundary conditions, and query simulation outputs much easier that doing so element by element.</p> <h2 id="generalized-mesh"> <a href="#generalized-mesh" class="anchor-heading" aria-labelledby="generalized-mesh"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generalized Mesh </h2> <p>| <strong>Filename</strong> | <strong>Input</strong> | <strong>Output</strong> | | — | — | — | | <em>3_set_region_truncate.lgi</em> | <em>1_surface_aq200.inp</em> | <em>3_hexDomain_defineZones.inp</em> | | | <em>1_surface_aq800.inp</em> | <em>3_tetDomain_topConnected.inp</em>| | | <em>1_surface.inp</em> | <em>3_tetDomain_regionSet.inp</em>| | | <em>1_surface_zero.inp</em> | | | | <em>2_hexRefine_octree.inp</em>| |</p> <h3 id="overview"> <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview </h3> <p>In this step we set material zones, remove elements outside the area of interest, convert from hexahedral mesh to tetrahedral mesh, and ensure all zones are assigned correctly.</p> <h3 id="syntax"> <a href="#syntax" class="anchor-heading" aria-labelledby="syntax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Syntax </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lagrit &lt; 8_driver_high_resolution_clipped.lgi
</code></pre></div></div> <h3 id="set-zones"> <a href="#set-zones" class="anchor-heading" aria-labelledby="set-zones"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set zones </h3> <p>For the general case, five zones are defined corresponding to the following surfaces based off the following conditionals:</p> <ul> <li>Zone 1: Represents a sediment zone, defined as less than or equal to the surface at z = 0 and greater than the initial cosine surface that defines the upper-most boundary of the domain.</li> <li>Zone 2: Represents a 200 m thick aquifer section, defined as defined as less than or equal to the initial cosine surface that defines the upper-most boundary of the domain and greater than the surface representing the transition of the 200 m thick aquifer layer to the 600 m thick aquifer layer.</li> <li>Zone 3: Represents a 600 m thick aquifer section, defined as less than or equal to the 200 m thick aquifer layer to the 600 m thick aquifer layer, and greater than the surface that represents the transition from the 600 m thick aquifer layer and the conductive boundary layer at the base of the domain.</li> <li>Zone 4: Represents the conductive layer at the base of the domain, defined as less than the surface that represents the transition from the 600 m thick aquifer layer and the conductive boundary layer at the base of the domain.</li> <li>Zone 5: Represents elements and points outside the mesh, defined as not belonging to zones 1-4</li> </ul> <p>However, these zones must be set in the correct order because any subsquent assignment of zones overwrites previous assignments. Therefore the material zones are assigned in the following order:</p> <ol> <li>Zone 5</li> <li>Zone 1</li> <li>Zone 2</li> <li>Zone 3</li> <li>Zone 4</li> </ol> <script> var app = "https://kitware.github.io/paraview-glance/app"; var datadir = "https://raw.githubusercontent.com/adamnicholasprice/GeologicGriddingTutorial/main/GeneralScene/"; var file = "generalHexZones.vtkjs"; document.write("<iframe src='" + app + "?name=" + file + "&url=" +datadir + file + "' id='iframe' width='800' height='500'></iframe>"); </script> <h4 id="figure-1"> <a href="#figure-1" class="anchor-heading" aria-labelledby="figure-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Figure 1 </h4> <p>General case hexahedral mesh colored by material zones assigned above</p> <h3 id="convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain"> <a href="#convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain" class="anchor-heading" aria-labelledby="convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convert to tetrahedral mesh and remove excess simulation domain </h3> <p>It is important to note that many pre- and post-processing tools have been developed to assign properities, query data, and assign inital conditions. As part of North Pond simulations <a href="https://agupubs.onlinelibrary.wiley.com/doi/epdf/10.1029/2021JB023158">(Price et al., 2022)</a> we converted elements in the mesh from hexahedral to tetrahedral to allow use of pre- and post-processors developed for use with earlier simulations <a href="https://github.com/UCSC-Hydrogeology/fehmToolkit">which can be found at this GitHub repository</a>.</p> <p>the Since we started with a rectangular mesh but have refined our mesh to represent a topographic surface, we will remove any elements we do not want to simulation. In the above step, we set Zone 5 to represent this area of the mesh outside the area of interest. <script> var app = "https://kitware.github.io/paraview-glance/app"; var datadir = "https://raw.githubusercontent.com/adamnicholasprice/GeologicGriddingTutorial/main/GeneralScene/"; var file = "generalHexRemoveTop.vtkjs";</script></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>document.write("&lt;iframe src='" + app + "?name=" + file + "&amp;url=" +datadir + file + "' id='iframe' width='800' height='500'&gt;&lt;/iframe&gt;"); &lt;/script&gt; #### Figure 2 General case hexahedral mesh with removal of elements outside the area of interest (top zone)
</code></pre></div></div> <h3 id="reset-top-zone-of-domain"> <a href="#reset-top-zone-of-domain" class="anchor-heading" aria-labelledby="reset-top-zone-of-domain"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reset top zone of domain </h3> <p>The final step is to correctly assign zones that represent the top, bottom, and side of the mesh. Since we removed the what was the top of the mesh in the previous step to reveal the refined topographic surface below, all the elements that were assigned as the top boundary no longer exist. We redefine the top zone of the mesh as elements belonging to the top zone and any material zone greater than one. <script> var app = "https://kitware.github.io/paraview-glance/app"; var datadir = "https://raw.githubusercontent.com/adamnicholasprice/GeologicGriddingTutorial/main/GeneralScene/"; var file = "generalTetSlice.vtkjs";</script></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>document.write("&lt;iframe src='" + app + "?name=" + file + "&amp;url=" +datadir + file + "' id='iframe' width='800' height='500'&gt;&lt;/iframe&gt;"); &lt;/script&gt; #### Figure 3 General case tetrahedral mesh with top material zone correctly defined with slice taken out at x,y = 0,0
</code></pre></div></div> <h2 id="north-pond"> <a href="#north-pond" class="anchor-heading" aria-labelledby="north-pond"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> North Pond </h2> <p>| <strong>Filename</strong> | <strong>Input</strong> | <strong>Output</strong> | | — | — | — | <em>11_region_set.lgi</em>|<em>8_hex_refine_octree.inp</em>|<em>11_hex_refine_octree.inp</em>| ||<em>1_surf_domain.inp</em>|| ||<em>4_surf_flat_zero.inp</em>|| ||<em>7_surf_filt_aq100.inp</em>|| ||<em>7_surf_filt_aq300.inp</em>|| ||<em>7_surf_filt_aq600.inp</em>|| ||<em>7_surf_filt_aq1k.inp</em>|| ||<em>3_surf_mid_sb.inp</em>|| ||<em>9_surf_north_pond_seafloor.inp</em>|| ||<em>10_surf_filt_mid_grid_aq100.inp</em>|| ||<em>10_surf_filt_mid_grid_aq300.inp</em>|| ||<em>10_surf_filt_mid_grid_aq600.inp</em>|| ||<em>10_surf_filt_mid_grid_aq1k.inp</em>||</p> <h3 id="overview-1"> <a href="#overview-1" class="anchor-heading" aria-labelledby="overview-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview </h3> <p>Using the same steps as above we set material zones, remove elements outside the area of interest, and ensure all zones are assigned correctly for the North Pond mesh.</p> <h3 id="syntax-1"> <a href="#syntax-1" class="anchor-heading" aria-labelledby="syntax-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Syntax </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lagrit &lt; 11_region_set.lgi
</code></pre></div></div> <h3 id="set-zones-1"> <a href="#set-zones-1" class="anchor-heading" aria-labelledby="set-zones-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Set zones </h3> <p>For the general case, five zones are defined corresponding to the following surfaces based off the following conditionals:</p> <ul> <li>Zone 1: Represents the sedimented pond of North Pond, defined as less than the seafloor surface (z=0)</li> <li>Zone 2: 100 m thick aquifer layer adjacent but not including North Pond</li> <li>Zone 3: 200 m thick aquifer layer adjacent but not including North Pond</li> <li>Zone 4: 300 m thick aquifer layer adjacent but not including North Pond</li> <li>Zone 5: 400 m thick aquifer layer adjacent but not including North Pond</li> <li>Zone 6: Conductive basement layer adjacent but not including North Pond</li> <li>Zone 7: 100 m thick aquifer layer immediately adjacent to and including North Pond</li> <li>Zone 8: 200 m thick aquifer layer immediately adjacent to and including North Pond</li> <li>Zone 9: 300 m thick aquifer layer immediately adjacent to and including North Pond</li> <li>Zone 10: 400 m thick aquifer layer immediately adjacent to and including North Pond</li> <li>Zone 11: Represents elements and points outside the mesh, defined as not belonging to zones 1-10</li> </ul> <p>However, these zones must be set in the correct order because any subsquent assignment of zones overwrites previous assignments. Therefore the material zones are assigned in the following order:</p> <ol> <li>Zone 11</li> <li>Zone 1</li> <li>Zone 2</li> <li>Zone 3</li> <li>Zone 4</li> <li>Zone 5</li> <li>Zone 6</li> <li>Zone 7</li> <li>Zone 8</li> <li>Zone 9</li> <li> <p>Zone 10 <script> var app = "https://kitware.github.io/paraview-glance/app"; var datadir = "https://raw.githubusercontent.com/adamnicholasprice/GeologicGriddingTutorial/main/NorthPondScene/"; var file = "12_hexZones.vtkjs";</script></p> <p>document.write(“&lt;iframe src='" + app + "?name=" + file + "&amp;url=" +datadir + file + "' id='iframe' width='800' height='500'&gt;&lt;/iframe&gt;”); &lt;/script&gt;</p> <h4 id="figure-4"> <a href="#figure-4" class="anchor-heading" aria-labelledby="figure-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Figure 4 </h4> <p>North Pond hexahedral mesh with material zones defined. 4x vertical exaggeration.</p> </li> </ol> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Filename</strong></th> <th><strong>Input</strong></th> <th><strong>Output</strong></th> </tr> </thead> <tbody> <tr> <td><em>12_remove_top.lgi</em></td> <td><em>11_hex_refine_octree.inp</em></td> <td><em>12_tmp_hex_mesh.inp</em></td> </tr> <tr> <td> </td> <td> </td> <td><em>12_tmp_tet_interp.inp</em></td> </tr> </tbody> </table></div> <h3 id="convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain-1"> <a href="#convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain-1" class="anchor-heading" aria-labelledby="convert-to-tetrahedral-mesh-and-remove-excess-simulation-domain-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Convert to tetrahedral mesh and remove excess simulation domain </h3> <p>As stated above, the first step is to convert the elements in the mesh from hexahedral to a tetrahedral for use with legacy tools.</p> <p>Since we started with a rectangular mesh but have refined our mesh to represent a topographic surface, we will remove any elements we do not want to simulation. In the above step, we set Zone 11 to represent this area of the mesh outside the area of interest.</p> <h3 id="syntax-2"> <a href="#syntax-2" class="anchor-heading" aria-labelledby="syntax-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Syntax </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lagrit &lt; 12_remove_top.lgi
</code></pre></div></div> <script> var app = "https://kitware.github.io/paraview-glance/app"; var datadir = "https://raw.githubusercontent.com/adamnicholasprice/GeologicGriddingTutorial/main/NorthPondScene/"; var file = "12_hexRemoveTop.vtkjs"; document.write("<iframe src='" + app + "?name=" + file + "&url=" +datadir + file + "' id='iframe' width='800' height='500'></iframe>"); </script> <h4 id="figure-5"> <a href="#figure-5" class="anchor-heading" aria-labelledby="figure-5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Figure 5 </h4> <p>North Pond hexahedral mesh with top zone being removed. 4x vertical exaggeration.</p> <div class="table-wrapper"><table> <thead> <tr> <th><strong>Filename</strong></th> <th><strong>Input</strong></th> <th><strong>Output</strong></th> </tr> </thead> <tbody> <tr> <td><em>13_top_region_set.lgi</em></td> <td><em>12_tmp_tet_interp.inp</em></td> <td><em>13_tet_reset_final.inp</em></td> </tr> <tr> <td> </td> <td><em>{fehm.files}</em></td> <td> </td> </tr> </tbody> </table></div> <h3 id="reset-top-zone-of-domain-1"> <a href="#reset-top-zone-of-domain-1" class="anchor-heading" aria-labelledby="reset-top-zone-of-domain-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reset top zone of domain </h3> <p>The final step is to correctly assign zones that represent the top, bottom, and side of the mesh. Since we removed the what was the top of the mesh in the previous step to reveal the refined topographic surface below, all the elements that were assigned as the top boundary no longer exist. We redefine the top zone of the mesh as elements belonging to the top zone and any material zone greater than one. Additionally, we export files used in <a href="https://fehm.lanl.gov/">Finite Element Heat and Mass Transfer Code (FEHM)</a>.</p> <h3 id="syntax-3"> <a href="#syntax-3" class="anchor-heading" aria-labelledby="syntax-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Syntax </h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lagrit &lt; 13_top_region_set.lgi
</code></pre></div></div> <script> var app = "https://kitware.github.io/paraview-glance/app"; var datadir = "https://raw.githubusercontent.com/adamnicholasprice/GeologicGriddingTutorial/main/NorthPondScene/"; var file = "12_tetTopReset.vtkjs"; document.write("<iframe src='" + app + "?name=" + file + "&url=" +datadir + file + "' id='iframe' width='800' height='500'></iframe>"); </script> <h4 id="figure-6"> <a href="#figure-6" class="anchor-heading" aria-labelledby="figure-6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Figure 6 </h4> <p>North Pond tetrahedral mesh with top region set. 4x vertical exaggeration.</p> <h2 id="conclusion"> <a href="#conclusion" class="anchor-heading" aria-labelledby="conclusion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conclusion </h2> <p>This concludes the walkthrough portion of the tutorial. The next pages will cover the final geolgic meshes, pseudo code for both cases and an <a href="http://adamnicholasprice.github.io/GeologicGriddingTutorial/08_executeScripts.html">executable roadmap for each case</a>. <a href="http://adamnicholasprice.github.io/GeologicGriddingTutorial/03_domain.html" class="btn btn-purple">Constructing and refining domain</a> <a href="http://adamnicholasprice.github.io/GeologicGriddingTutorial/05_finalMesh.html" class="btn btn-purple">Final Mesh</a></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
